import{n as t,i as e,v as o,u as s,r as n,w as r,a as i,o as a,b as l,c,g as p}from"./vendor-Cpq2Wavd.js";const d=new Set(["title","titleTemplate","script","style","noscript"]),f=new Set(["base","meta","link","style","script","noscript"]),u=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),h=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),g=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),m="undefined"!=typeof window;function y(t){let e=9;for(let o=0;o<t.length;)e=Math.imul(e^t.charCodeAt(o++),9**9);return(65536+(e^e>>>9)).toString(16).substring(1,8).toLowerCase()}function v(t){if(t._h)return t._h;if(t._d)return y(t._d);let e=`${t.tag}:${t.textContent||t.innerHTML||""}:`;for(const o in t.props)e+=`${o}:${String(t.props[o])},`;return y(e)}function _(t,e,o,s){const n=s||H("object"!=typeof e||"function"==typeof e||e instanceof Promise?{["script"===t||"noscript"===t||"style"===t?"innerHTML":"textContent"]:e}:{...e},"templateParams"===t||"titleTemplate"===t);if(n instanceof Promise)return n.then((s=>_(t,e,o,s)));const r={tag:t,props:n};for(const i of g){const t=void 0!==r.props[i]?r.props[i]:o[i];void 0!==t&&(("innerHTML"!==i&&"textContent"!==i&&"children"!==i||d.has(r.tag))&&(r["children"===i?"innerHTML":i]=t),delete r.props[i])}return r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),"script"===r.tag&&"object"==typeof r.innerHTML&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map((t=>({...r,props:{...r.props,content:t}}))):r}function k(t,e){var o;const s="class"===t?" ":";";return e&&"object"==typeof e&&!Array.isArray(e)&&(e=Object.entries(e).filter((([,t])=>t)).map((([e,o])=>"style"===t?`${e}:${o}`:e))),null==(o=String(Array.isArray(e)?e.join(s):e))?void 0:o.split(s).filter((t=>Boolean(t.trim()))).join(s)}function b(t,e,o,s){for(let n=s;n<o.length;n+=1){const s=o[n];if("class"!==s&&"style"!==s){if(t[s]instanceof Promise)return t[s].then((r=>(t[s]=r,b(t,e,o,n))));if(!e&&!g.has(s)){const e=String(t[s]),o=s.startsWith("data-");"true"===e||""===e?t[s]=!o||"true":t[s]||(o&&"false"===e?t[s]="false":delete t[s])}}else t[s]=k(s,t[s])}}function H(t,e=!1){const o=b(t,e,Object.keys(t),0);return o instanceof Promise?o.then((()=>t)):t}function T(t,e,o){for(let s=o;s<e.length;s+=1){const o=e[s];if(o instanceof Promise)return o.then((o=>(e[s]=o,T(t,e,s))));Array.isArray(o)?t.push(...o):t.push(o)}}function w(t){const e=[],o=t.resolvedInput;for(const i in o){if(!Object.prototype.hasOwnProperty.call(o,i))continue;const s=o[i];if(void 0!==s&&u.has(i))if(Array.isArray(s))for(const o of s)e.push(_(i,o,t));else e.push(_(i,s,t))}if(0===e.length)return[];const s=[];return n=T(s,e,0),r=()=>s.map(((e,o)=>(e._e=t._i,t.mode&&(e._m=t.mode),e._p=(t._i<<10)+o,e))),n instanceof Promise?n.then(r):r(n);var n,r}const P=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),$={base:-10,title:10},O={critical:-80,high:-10,low:20};function x(t){const e=t.tagPriority;if("number"==typeof e)return e;let o=100;return"meta"===t.tag?"content-security-policy"===t.props["http-equiv"]?o=-30:t.props.charset?o=-20:"viewport"===t.props.name&&(o=-15):"link"===t.tag&&"preconnect"===t.props.rel?o=20:t.tag in $&&(o=$[t.tag]),e&&e in O?o+O[e]:o}const M=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],C=["name","property","http-equiv"];function A(t){const{props:e,tag:o}=t;if(h.has(o))return o;if("link"===o&&"canonical"===e.rel)return"canonical";if(e.charset)return"charset";if(e.id)return`${o}:id:${e.id}`;for(const s of C)if(void 0!==e[s])return`${o}:${s}:${e[s]}`;return!1}const L="%separator";const j=new RegExp(`${L}(?:\\s*${L})*`,"g");function S(t,e,o,s=!1){if("string"!=typeof t||!t.includes("%"))return t;let n=t;try{n=decodeURI(t)}catch{}const r=n.match(/%\w+(?:\.\w+)?/g);if(!r)return t;const i=t.includes(L);return t=t.replace(/%\w+(?:\.\w+)?/g,(t=>{if(t===L||!r.includes(t))return t;const o=function(t,e,o=!1){var s;let n;if("s"===e||"pageTitle"===e)n=t.pageTitle;else if(e.includes(".")){const o=e.indexOf(".");n=null==(s=t[e.substring(0,o)])?void 0:s[e.substring(o+1)]}else n=t[e];if(void 0!==n)return o?(n||"").replace(/"/g,'\\"'):n||""}(e,t.slice(1),s);return void 0!==o?o:t})).trim(),i&&(t.endsWith(L)&&(t=t.slice(0,-10)),t.startsWith(L)&&(t=t.slice(10)),t=t.replace(j,o).trim()),t}function E(t,e){return null==t?e||null:"function"==typeof t?t(e):t}function R(t,e={}){const o=e.delayFn||(t=>setTimeout(t,10));return t._domDebouncedUpdatePromise=t._domDebouncedUpdatePromise||new Promise((s=>o((()=>async function(t,e={}){const o=e.document||t.resolvedOptions.document;if(!o||!t.dirty)return;const s={shouldRender:!0,tags:[]};return await t.hooks.callHook("dom:beforeRender",s),s.shouldRender?(t._domUpdatePromise||(t._domUpdatePromise=new Promise((async e=>{var s;const n=(await t.resolveTags()).map((t=>({tag:t,id:f.has(t.tag)?v(t):t.tag,shouldRender:!0})));let r=t._dom;if(!r){r={elMap:{htmlAttrs:o.documentElement,bodyAttrs:o.body}};const t=new Set;for(const e of["body","head"]){const n=null==(s=o[e])?void 0:s.children;for(const e of n){const o=e.tagName.toLowerCase();if(!f.has(o))continue;const s={tag:o,props:await H(e.getAttributeNames().reduce(((t,o)=>({...t,[o]:e.getAttribute(o)})),{})),innerHTML:e.innerHTML},n=A(s);let i=n,a=1;for(;i&&t.has(i);)i=`${n}:${a++}`;i&&(s._d=i,t.add(i)),r.elMap[e.getAttribute("data-hid")||v(s)]=e}}}function i(t,e,o){const s=`${t}:${e}`;r.sideEffects[s]=o,delete r.pendingSideEffects[s]}function a({id:t,$el:e,tag:s}){const n=s.tag.endsWith("Attrs");if(r.elMap[t]=e,n||(s.textContent&&s.textContent!==e.textContent&&(e.textContent=s.textContent),s.innerHTML&&s.innerHTML!==e.innerHTML&&(e.innerHTML=s.innerHTML),i(t,"el",(()=>{var e;null==(e=r.elMap[t])||e.remove(),delete r.elMap[t]}))),s._eventHandlers)for(const r in s._eventHandlers)Object.prototype.hasOwnProperty.call(s._eventHandlers,r)&&""!==e.getAttribute(`data-${r}`)&&(("bodyAttrs"===s.tag?o.defaultView:e).addEventListener(r.substring(2),s._eventHandlers[r].bind(e)),e.setAttribute(`data-${r}`,""));for(const o in s.props){if(!Object.prototype.hasOwnProperty.call(s.props,o))continue;const r=s.props[o],a=`attr:${o}`;if("class"===o){if(!r)continue;for(const o of r.split(" "))n&&i(t,`${a}:${o}`,(()=>e.classList.remove(o))),!e.classList.contains(o)&&e.classList.add(o)}else if("style"===o){if(!r)continue;for(const o of r.split(";")){const s=o.indexOf(":"),n=o.substring(0,s).trim(),r=o.substring(s+1).trim();i(t,`${a}:${n}`,(()=>{e.style.removeProperty(n)})),e.style.setProperty(n,r)}}else e.getAttribute(o)!==r&&e.setAttribute(o,!0===r?"":String(r)),n&&i(t,a,(()=>e.removeAttribute(o)))}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const t of n){const{tag:e,shouldRender:s,id:n}=t;s&&("title"!==e.tag?(t.$el=t.$el||r.elMap[n],t.$el?a(t):f.has(e.tag)&&l.push(t)):o.title=e.textContent)}for(const t of l){const e=t.tag.tagPosition||"head";t.$el=o.createElement(t.tag.tag),a(t),c[e]=c[e]||o.createDocumentFragment(),c[e].appendChild(t.$el)}for(const p of n)await t.hooks.callHook("dom:renderTag",p,o,i);c.head&&o.head.appendChild(c.head),c.bodyOpen&&o.body.insertBefore(c.bodyOpen,o.body.firstChild),c.bodyClose&&o.body.appendChild(c.bodyClose);for(const t in r.pendingSideEffects)r.pendingSideEffects[t]();t._dom=r,await t.hooks.callHook("dom:rendered",{renders:n}),e()})).finally((()=>{t._domUpdatePromise=void 0,t.dirty=!1}))),t._domUpdatePromise):void 0}(t,e).then((()=>{delete t._domDebouncedUpdatePromise,s()}))))))}function W(t){return e=>{var o,s;const n=(null==(s=null==(o=e.resolvedOptions.document)?void 0:o.head.querySelector('script[id="unhead:payload"]'))?void 0:s.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":e=>{R(e,t)}}}}}function D(t,e={},o){for(const s in t){const n=t[s],r=o?`${o}:${s}`:s;"object"==typeof n&&null!==n?D(n,e,r):"function"==typeof n&&(e[r]=n)}return e}const U={run:t=>t()},I=void 0!==console.createTask?console.createTask:()=>U;function N(t,e){const o=e.shift(),s=I(o);return t.reduce(((t,o)=>t.then((()=>s.run((()=>o(...e)))))),Promise.resolve())}function F(t,e){const o=e.shift(),s=I(o);return Promise.all(t.map((t=>s.run((()=>t(...e))))))}function q(t,e){for(const o of[...t])o(e)}class J{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,e,o={}){if(!t||"function"!=typeof e)return()=>{};const s=t;let n;for(;this._deprecatedHooks[t];)n=this._deprecatedHooks[t],t=n.to;if(n&&!o.allowDeprecated){let t=n.message;t||(t=`${s} hook has been deprecated`+(n.to?`, please use ${n.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(t)||(console.warn(t),this._deprecatedMessages.add(t))}if(!e.name)try{Object.defineProperty(e,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(e),()=>{e&&(this.removeHook(t,e),e=void 0)}}hookOnce(t,e){let o,s=(...t)=>("function"==typeof o&&o(),o=void 0,s=void 0,e(...t));return o=this.hook(t,s),o}removeHook(t,e){if(this._hooks[t]){const o=this._hooks[t].indexOf(e);-1!==o&&this._hooks[t].splice(o,1),0===this._hooks[t].length&&delete this._hooks[t]}}deprecateHook(t,e){this._deprecatedHooks[t]="string"==typeof e?{to:e}:e;const o=this._hooks[t]||[];delete this._hooks[t];for(const s of o)this.hook(t,s)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const e in t)this.deprecateHook(e,t[e])}addHooks(t){const e=D(t),o=Object.keys(e).map((t=>this.hook(t,e[t])));return()=>{for(const t of o.splice(0,o.length))t()}}removeHooks(t){const e=D(t);for(const o in e)this.removeHook(o,e[o])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...e){return e.unshift(t),this.callHookWith(N,t,...e)}callHookParallel(t,...e){return e.unshift(t),this.callHookWith(F,t,...e)}callHookWith(t,e,...o){const s=this._before||this._after?{name:e,args:o,context:{}}:void 0;this._before&&q(this._before,s);const n=t(e in this._hooks?[...this._hooks[e]]:[],o);return n instanceof Promise?n.finally((()=>{this._after&&s&&q(this._after,s)})):(this._after&&s&&q(this._after,s),n)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(void 0!==this._before){const e=this._before.indexOf(t);-1!==e&&this._before.splice(e,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(void 0!==this._after){const e=this._after.indexOf(t);-1!==e&&this._after.splice(e,1)}}}}const B=new Set(["templateParams","htmlAttrs","bodyAttrs"]),V={hooks:{"tag:normalise":({tag:t})=>{t.props.hid&&(t.key=t.props.hid,delete t.props.hid),t.props.vmid&&(t.key=t.props.vmid,delete t.props.vmid),t.props.key&&(t.key=t.props.key,delete t.props.key);const e=A(t);!e||e.startsWith("meta:og:")||e.startsWith("meta:twitter:")||delete t.key;const o=e||!!t.key&&`${t.tag}:${t.key}`;o&&(t._d=o)},"tags:resolve":t=>{const e=Object.create(null);for(const s of t.tags){const t=(s.key?`${s.tag}:${s.key}`:s._d)||v(s),o=e[t];if(o){let n=null==s?void 0:s.tagDuplicateStrategy;if(!n&&B.has(s.tag)&&(n="merge"),"merge"===n){const n=o.props;n.style&&s.props.style&&(";"!==n.style[n.style.length-1]&&(n.style+=";"),s.props.style=`${n.style} ${s.props.style}`),n.class&&s.props.class?s.props.class=`${n.class} ${s.props.class}`:n.class&&(s.props.class=n.class),e[t].props={...n,...s.props};continue}if(s._e===o._e){o._duped=o._duped||[],s._d=`${o._d}:${o._duped.length+1}`,o._duped.push(s);continue}if(x(s)>x(o))continue}s.innerHTML||s.textContent||0!==Object.keys(s.props).length||!f.has(s.tag)?e[t]=s:delete e[t]}const o=[];for(const s in e){const t=e[s],n=t._duped;o.push(t),n&&(delete t._duped,o.push(...n))}t.tags=o,t.tags=t.tags.filter((t=>!("meta"===t.tag&&(t.props.name||t.props.property)&&!t.props.content)))}}},z=new Set(["script","link","bodyAttrs"]),G=t=>({hooks:{"tags:resolve":e=>{for(const o of e.tags){if(!z.has(o.tag))continue;const e=o.props;for(const s in e){if("o"!==s[0]||"n"!==s[1])continue;if(!Object.prototype.hasOwnProperty.call(e,s))continue;const n=e[s];"function"==typeof n&&(t.ssr&&P.has(s)?e[s]=`this.dataset.${s}fired = true`:delete e[s],o._eventHandlers=o._eventHandlers||{},o._eventHandlers[s]=n)}t.ssr&&o._eventHandlers&&(o.props.src||o.props.href)&&(o.key=o.key||y(o.props.src||o.props.href))}},"dom:renderTag":({$el:t,tag:e})=>{var o,s;const n=null==t?void 0:t.dataset;if(n)for(const r in n){if(!r.endsWith("fired"))continue;const n=r.slice(0,-5);P.has(n)&&(null==(s=null==(o=e._eventHandlers)?void 0:o[n])||s.call(t,new Event(n.substring(2))))}}}}),K=new Set(["link","style","script","noscript"]),Q={hooks:{"tag:normalise":({tag:t})=>{t.key&&K.has(t.tag)&&(t.props["data-hid"]=t._h=y(t.key))}}},X={mode:"server",hooks:{"tags:beforeResolve":t=>{const e={};let o=!1;for(const s of t.tags)"server"!==s._m||"titleTemplate"!==s.tag&&"templateParams"!==s.tag&&"title"!==s.tag||(e[s.tag]="title"===s.tag||"titleTemplate"===s.tag?s.textContent:s.props,o=!0);o&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Y={hooks:{"tags:resolve":t=>{var e;for(const o of t.tags)if("string"==typeof o.tagPriority)for(const{prefix:s,offset:n}of M){if(!o.tagPriority.startsWith(s))continue;const r=o.tagPriority.substring(s.length),i=null==(e=t.tags.find((t=>t._d===r)))?void 0:e._p;if(void 0!==i){o._p=i+n;break}}t.tags.sort(((t,e)=>{const o=x(t),s=x(e);return o<s?-1:o>s?1:t._p-e._p}))}}},Z={meta:"content",link:"href",htmlAttrs:"lang"},tt=["innerHTML","textContent"],et=t=>({hooks:{"tags:resolve":e=>{var o;const{tags:s}=e;let n;for(let t=0;t<s.length;t+=1){"templateParams"===s[t].tag&&(n=e.tags.splice(t,1)[0].props,t-=1)}const r=n||{},i=r.separator||"|";delete r.separator,r.pageTitle=S(r.pageTitle||(null==(o=s.find((t=>"title"===t.tag)))?void 0:o.textContent)||"",r,i);for(const t of s){if(!1===t.processTemplateParams)continue;const e=Z[t.tag];if(e&&"string"==typeof t.props[e])t.props[e]=S(t.props[e],r,i);else if(t.processTemplateParams||"titleTemplate"===t.tag||"title"===t.tag)for(const o of tt)"string"==typeof t[o]&&(t[o]=S(t[o],r,i,"script"===t.tag&&t.props.type.endsWith("json")))}t._templateParams=r,t._separator=i},"tags:afterResolve":({tags:e})=>{let o;for(let t=0;t<e.length;t+=1){const s=e[t];"title"===s.tag&&!1!==s.processTemplateParams&&(o=s)}(null==o?void 0:o.textContent)&&(o.textContent=S(o.textContent,t._templateParams,t._separator))}}}),ot={hooks:{"tags:resolve":t=>{const{tags:e}=t;let o,s;for(let n=0;n<e.length;n+=1){const t=e[n];"title"===t.tag?o=t:"titleTemplate"===t.tag&&(s=t)}if(s&&o){const e=E(s.textContent,o.textContent);null!==e?o.textContent=e||o.textContent:t.tags.splice(t.tags.indexOf(o),1)}else if(s){const t=E(s.textContent);null!==t&&(s.textContent=t,s.tag="title",s=void 0)}s&&t.tags.splice(t.tags.indexOf(s),1)}}},st={hooks:{"tags:afterResolve":t=>{for(const e of t.tags)"string"==typeof e.innerHTML&&(!e.innerHTML||"application/ld+json"!==e.props.type&&"application/json"!==e.props.type?e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`):e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"))}}};let nt;function rt(t={}){const e=function(t={}){const e=new J;e.addHooks(t.hooks||{}),t.document=t.document||(m?document:void 0);const o=!t.document,s=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let n=0,r=[];const i=[],a={plugins:i,dirty:!1,resolvedOptions:t,hooks:e,headEntries:()=>r,use(t){const s="function"==typeof t?t(a):t;s.key&&i.some((t=>t.key===s.key))||(i.push(s),it(s.mode,o)&&e.addHooks(s.hooks||{}))},push(t,e){null==e||delete e.head;const i={_i:n++,input:t,...e};return it(i.mode,o)&&(r.push(i),s()),{dispose(){r=r.filter((t=>t._i!==i._i)),s()},patch(t){for(const e of r)e._i===i._i&&(e.input=i.input=t);s()}}},async resolveTags(){const t={tags:[],entries:[...r]};await e.callHook("entries:resolve",t);for(const o of t.entries){const s=o.resolvedInput||o.input;if(o.resolvedInput=await(o.transform?o.transform(s):s),o.resolvedInput)for(const n of await w(o)){const s={tag:n,entry:o,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",s),t.tags.push(s.tag)}}return await e.callHook("tags:beforeResolve",t),await e.callHook("tags:resolve",t),await e.callHook("tags:afterResolve",t),t.tags},ssr:o};return[V,X,G,Q,Y,et,ot,st,...(null==t?void 0:t.plugins)||[]].forEach((t=>a.use(t))),a.hooks.callHook("init",a),a}(t);return e.use(W()),nt=e}function it(t,e){return!t||"server"===t&&e||"client"===t&&!e}const at="3"===o[0];function lt(t){if(t instanceof Promise||t instanceof Date||t instanceof RegExp)return t;const e="function"==typeof(o=t)?o():s(o);var o;if(!t||!e)return e;if(Array.isArray(e))return e.map((t=>lt(t)));if("object"==typeof e){const t={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&("titleTemplate"===o||"o"===o[0]&&"n"===o[1]?t[o]=s(e[o]):t[o]=lt(e[o]));return t}return e}const ct={hooks:{"entries:resolve":t=>{for(const e of t.entries)e.resolvedInput=lt(e.input)}}},pt="usehead";function dt(e={}){e.domDelayFn=e.domDelayFn||(e=>t((()=>setTimeout((()=>e()),0))));const o=rt(e);return o.use(ct),o.install=function(t){return{install(e){at&&(e.config.globalProperties.$unhead=t,e.config.globalProperties.$head=t,e.provide(pt,t))}}.install}(o),o}const ft="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ut="__unhead_injection_handler__";function ht(){if(ut in ft)return ft[ut]();return e(pt)||nt}function gt(t,e={}){const o=e.head||ht();if(o)return o.ssr?o.push(t,e):function(t,e,o={}){const s=n(!1),d=n({});r((()=>{d.value=s.value?{}:lt(e)}));const f=t.push(d.value,o);i(d,(t=>{f.patch(t)}));p()&&(a((()=>{f.dispose()})),l((()=>{s.value=!0})),c((()=>{s.value=!1})));return f}(o,t,e)}function mt(t,e){const o=function(t){const e=t;return e.headTags=t.resolveTags,e.addEntry=t.push,e.addHeadObjs=t.push,e.addReactiveEntry=(t,e)=>{const o=gt(t,e);return void 0!==o?o.dispose:()=>{}},e.removeHeadObjs=()=>{},e.updateDOM=()=>{t.hooks.callHook("entries:updated",t)},e.unhead=t,e}(dt({}));return o}export{mt as c,gt as u};
